@tailwind base;
@tailwind components;
@tailwind utilities;

/* ===== Base Component Styles ===== */
.login-card { @apply bg-white rounded-2xl shadow-xl p-8 w-full max-w-sm; }
.input { @apply w-full bg-white border border-gray-300 rounded-xl px-3 py-2 text-sm outline-none; }
.input:focus { @apply border-blue-600 ring-2 ring-blue-200; }
.btn-primary { @apply bg-blue-600 text-white font-semibold text-sm rounded-xl px-4 py-3 transition hover:bg-blue-700 active:translate-y-px; }
.btn-primary-sm { @apply bg-blue-600 text-white font-semibold text-xs rounded-xl px-3 py-2 transition hover:bg-blue-700 active:translate-y-px; }
.btn-outline-sm { @apply bg-white border border-gray-300 text-gray-700 text-xs font-medium rounded-xl px-3 py-2 hover:bg-gray-100 active:translate-y-px; }
.btn-secondary-sm { @apply bg-gray-50 border border-gray-300 text-gray-800 text-xs font-medium rounded-xl px-3 py-2 hover:bg-gray-100; }
.topbar { @apply flex justify-between items-center bg-white border-b border-gray-200 px-5 py-3 sticky top-0 z-30; }
.avatar { @apply w-9 h-9 rounded-full object-cover border-2 border-gray-300; }
.clock { @apply text-[11px] tracking-wide text-gray-600 font-medium; }

.stat-tile { @apply bg-white rounded-2xl shadow-sm border border-gray-100 p-4 flex flex-col gap-1; }
.stat-tile .label { @apply text-[10px] font-semibold uppercase tracking-wide text-gray-500; }
.stat-tile .value { @apply text-2xl font-bold text-gray-800 leading-tight; }

.info-card { @apply bg-white border border-gray-200 rounded-2xl p-4 transition shadow-sm hover:shadow-lg hover:-translate-y-0.5; }

.checklist-progress-wrapper { @apply h-2 w-full rounded-full overflow-hidden bg-gradient-to-r from-gray-100 to-gray-200 my-4; }
.checklist-progress-bar {
  @apply h-full w-0 transition-all;
  background:linear-gradient(90deg,#2563eb,#3b82f6,#60a5fa);
}
.checklist-progress-label { @apply text-[10px] font-semibold tracking-wide uppercase text-gray-600 mb-3; }

.checklist-row-selected td { @apply bg-blue-50 transition-colors; }

/* ===== Toasts ===== */
.toast {
  @apply text-xs text-white rounded-2xl px-4 py-3 shadow-lg flex gap-3 relative overflow-hidden;
  animation:slideIn .45s ease;
}
.toast.success { @apply bg-emerald-700; }
.toast.error { @apply bg-red-800; }
.toast.info { @apply bg-blue-900; }
.toast::after {
  content:"";
  @apply absolute left-0 bottom-0 h-[3px] w-full bg-white/30;
  animation:toastBar 4.4s linear forwards;
}
@keyframes toastBar { to { width:0%; } }
@keyframes slideIn { from { transform:translateY(-8px); opacity:0; } to { transform:translateY(0); opacity:1; } }

/* ===== Skeleton ===== */
.skeleton {
  @apply rounded-2xl;
  background:linear-gradient(90deg,#f3f3f3,#ececec,#f3f3f3);
  background-size:200% 100%;
  animation:skeleton 1.1s linear infinite;
}
@keyframes skeleton { to { background-position:-200% 0; } }

/* ===== Spinners (single definition) ===== */
@keyframes spin { to { transform:rotate(360deg); } }
.spinner {
  @apply w-8 h-8 border-4 border-gray-200 rounded-full;
  border-top-color:#2563eb;
  animation:spin .8s linear infinite;
}
.spinner-sm {
  @apply w-4 h-4 border-2 border-gray-300 rounded-full;
  border-top-color:#2563eb;
  animation:spin .8s linear infinite;
}

/* ===== Modal ===== */
.modal-overlay {
  @apply fixed inset-0 bg-gray-900/60 backdrop-blur-sm flex items-center justify-center p-5 opacity-0 transition-opacity;
}
.modal-overlay:not(.hidden) { opacity:1; }
.modal-card { @apply bg-white w-full max-w-lg rounded-3xl p-8 shadow-2xl border border-gray-200; }
.modal-title { @apply text-lg font-bold mb-2; }

/* ===== Base Layer Enhancements ===== */
@layer base {
  body {
    font-family: 'Inter', sans-serif;
    @apply bg-light text-dark;
  }
}

/* ===== Additional Components ===== */
@layer components {
  .apple-shadow { box-shadow:0 4px 12px rgba(0,0,0,0.08); }
  .table-header-sticky { position:sticky; top:0; z-index:10; }
  .table-header-sticky tr { @apply bg-accent; }
  .table-header-sticky tr th { @apply text-dark; border-bottom:2px solid #e5e7eb; }
  .heating-section-header { @apply bg-primary text-white !important; }
  .input-field {
    @apply block w-full px-4 py-3 border border-gray-300 bg-gray-50 text-dark placeholder-secondary rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent text-sm transition;
  }
  .input-radio { @apply w-4 h-4 text-primary bg-gray-100 border-gray-300 focus:ring-primary; }
  .button-primary {
    @apply flex justify-center py-3 px-5 border border-transparent text-sm font-bold rounded-xl text-white bg-primary hover:bg-opacity-90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary active:scale-95 disabled:opacity-50 disabled:cursor-wait;
  }
  .button-yellow {
    @apply flex justify-center py-4 px-6 border border-transparent text-base font-bold rounded-xl text-dark bg-accent hover:bg-opacity-90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-accent active:scale-95 disabled:opacity-50 disabled:cursor-wait;
  }
  .button-secondary {
    @apply px-5 py-2.5 bg-gray-200 text-secondary font-bold text-sm rounded-lg hover:bg-gray-300 focus:outline-none focus:ring-4 focus:ring-gray-300/50 active:scale-95;
  }
  .section-title { @apply text-xl font-bold text-dark pb-3 mb-4 border-b border-gray-200; }
  .machine-card { @apply p-4 border-2 border-gray-200 rounded-lg text-center font-semibold cursor-pointer transition; }
  .machine-card.selected { @apply border-primary bg-indigo-50 text-dark; }
  .stats-container-blue { @apply bg-primary p-6 rounded-2xl apple-shadow grid grid-cols-1 sm:grid-cols-3 gap-5; }
  .stat-card-inner { @apply flex flex-col items-center text-center; }
  .stat-title-blue { @apply text-sm font-medium text-white opacity-90 mb-2; }
  .stat-value-box { @apply bg-white w-24 h-24 rounded-lg flex items-center justify-center apple-shadow; }
  .stat-number-blue { @apply text-4xl font-extrabold text-primary; }
  .line-clamp-2 {
    overflow:hidden;
    display:-webkit-box;
    -webkit-box-orient:vertical;
    -webkit-line-clamp:2;
  }
  .checklist-body-cells tr td:nth-child(1) { @apply sticky left-0 bg-white; }
  .checklist-body-cells tr td:nth-child(2) { @apply sticky left-8 bg-white; }
}